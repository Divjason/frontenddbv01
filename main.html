<!DOCTYPE html>
<html lang="ko">
  <head>
    <!-- Google Tag Manager -->
    <script>
      (function (w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({ "gtm.start": new Date().getTime(), event: "gtm.js" });
        var f = d.getElementsByTagName(s)[0],
          j = d.createElement(s),
          dl = l != "dataLayer" ? "&l=" + l : "";
        j.async = true;
        j.src = "https://www.googletagmanager.com/gtm.js?id=" + i + dl;
        f.parentNode.insertBefore(j, f);
      })(window, document, "script", "dataLayer", "GTM-NKG7DXM5");
    </script>
    <!— End Google Tag Manager —>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <title>화해 - AI 피부 진단</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Pretendard:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
    <style>
      button {
        outline: none;
        box-shadow: none;
        -webkit-tap-highlight-color: transparent;
      }

      button:focus,
      button:focus-visible,
      button:active,
      button:hover {
        outline: none;
        box-shadow: none;
        border: none;
      }

      * {
        -webkit-tap-highlight-color: transparent;
        box-sizing: border-box;
      }

      html {
        overflow-x: hidden;
        max-width: 100%;
      }

      body {
        margin: 0;
        padding: 0;
        width: 100%;
        overflow-x: hidden;
        max-width: 100%;
      }

      .mobile-container {
        width: 100%;
        max-width: 402px;
        margin: 0 auto;
        position: relative;
        background: #fff;
        min-height: 100vh;
        overflow-x: hidden;
      }

      .top-bar {
        position: relative;
        width: 100%;
        background: #fff;
      }

      .header {
        background: #fff;
        padding: 20px 20px 0;
        width: 100%;
        position: relative;
      }

      .lang-content {
        display: flex;
        align-items: center;
        gap: 4px;
      }

      .lang-content span {
        font-size: 14px;
        font-weight: 600;
        color: #111;
      }

      .cart-button {
        position: absolute;
        right: 10px;
        top: 6px;
        background: transparent;
        border: none;
        padding: 10px;
        cursor: pointer;
      }

      .cart-button img {
        width: 24px;
        height: 24px;
      }

      .main-content {
        padding-top: 0;
        padding-bottom: 60px;
      }

      .ai-result-card {
        padding: 20px;
        background: rgba(0, 165, 170, 0.08);
        display: flex;
        gap: 20px;
      }

      .ai-result-left {
        background: #fff;
        border: 1px solid #e8e8e8;
        border-radius: 6px;
        padding: 10px;
        width: 205px;
        height: 140px;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
      }

      .ai-result-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
        width: 100%;
        position: relative;
      }

      .ai-result-grid::before {
        content: "";
        position: absolute;
        top: 50%;
        left: 0;
        right: 0;
        height: 1px;
        background-color: #e8e8e8;
        transform: translateY(-50%);
        z-index: 0;
      }

      .ai-result-grid::after {
        content: "";
        position: absolute;
        left: 50%;
        top: 0;
        bottom: 0;
        width: 1px;
        background-color: #e8e8e8;
        transform: translateX(-50%);
        z-index: 0;
      }

      .ai-result-item {
        text-align: center;
        position: relative;
        z-index: 1;
      }

      .fade-up {
        opacity: 0;
        transform: translateY(0px);
      }
      .fade-up.is-in {
        animation: fadeUp 2000ms cubic-bezier(0.2, 0.7, 0.2, 1) forwards;
        animation-delay: 0.5s;
      }
      @keyframes fadeUp {
        0% {
          opacity: 0;
          transform: translateY(0px);
        }
        100% {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .fade-up-2 {
        opacity: 0;
        transform: translateY(0px);
      }
      .fade-up-2.is-in {
        animation: fadeUp-2 2000ms cubic-bezier(0.2, 0.7, 0.2, 1) forwards;
        animation-delay: 0.7s;
      }
      @keyframes fadeUp-2 {
        0% {
          opacity: 0;
          transform: translateY(0px);
        }
        100% {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .fade-up-3 {
        opacity: 0;
        transform: translateY(0px);
      }
      .fade-up-3.is-in {
        animation: fadeUp-3 2000ms cubic-bezier(0.2, 0.7, 0.2, 1) forwards;
        animation-delay: 0.9s;
      }
      @keyframes fadeUp-3 {
        0% {
          opacity: 0;
          transform: translateY(0px);
        }
        100% {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .fade-up-4 {
        opacity: 0;
        transform: translateY(0);
      }
      .fade-up-4.is-in {
        animation: fadeUp-4 2000ms cubic-bezier(0.2, 0.7, 0.2, 1) forwards;
        animation-delay: 1.1s;
      }
      @keyframes fadeUp-4 {
        0% {
          opacity: 0;
          transform: translateY(0);
        }
        100% {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .ai-result-label {
        font-size: 10px;
        color: #666;
        margin-bottom: 6px;
      }

      .ai-result-value {
        font-size: 15px;
        font-weight: 700;
        color: #00a5aa;
      }

      .ai-result-right {
        width: 126px;
        height: 145px;
        background: transparent;
        border-radius: 6px;
        overflow: visible;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .ai-result-right img,
      .ai-result-right object {
        width: 100%;
        height: 100%;
        object-fit: contain;
        background: transparent;
      }

      .user-info {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 0 20px;
        margin-bottom: 20px;
      }

      .user-text {
        font-size: 18px;
        font-weight: 700;
        color: #111;
      }

      .more-link {
        display: flex;
        align-items: center;
        gap: 2px;
        font-size: 14px;
        color: #666;
        text-decoration: none;
      }

      .promo-banner {
        margin: 20px;
        margin-bottom: 30px;
        margin-top: 30px;
        height: 91px;
        border-radius: 10px;
        background: #f0f0f0;
        overflow: hidden;
        position: relative;
      }

      .promo-banner img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        position: absolute;
        top: 0;
        left: 0;
        opacity: 0;
        transition: opacity 0.5s ease-in-out;
      }

      .promo-banner img.active {
        opacity: 1;
      }

      .product-reviews {
        margin: 20px 0;
        padding: 0 20px;
      }

      .product-reviews-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 4px;
      }

      .product-reviews-title {
        font-size: 18px;
        font-weight: 700;
        color: #111;
      }

      .product-reviews-subtitle {
        font-size: 12px;
        margin-bottom: 16px;
        color: #bf9a67;
      }

      .category-selector {
        display: flex;
        align-items: center;
        gap: 10px;
        font-size: 12px;
        color: #666;
        cursor: pointer;
        position: relative;
      }

      .category-dropdown {
        position: absolute;
        top: 100%;
        right: 0;
        margin-top: 8px;
        background: #fff;
        border: 1px solid #e8e8e8;
        border-radius: 8px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        display: none;
        z-index: 1000;
        min-width: 150px;
      }

      .category-dropdown.open {
        display: block;
      }

      .category-option {
        padding: 12px 16px;
        font-size: 14px;
        color: #111;
        cursor: pointer;
        border-bottom: 1px solid #f7f7f7;
      }

      .category-option:hover {
        background: #f7f7f7;
      }

      .category-option:last-child {
        border-bottom: none;
      }

      .category-option.selected {
        color: #00a5aa;
        font-weight: 600;
      }

      .category-arrow {
        transition: transform 0.2s;
      }

      .product-list {
        display: flex;
        gap: 10px;
        overflow-x: auto;
        padding-bottom: 10px;
        -ms-overflow-style: none; /* IE and Edge */
        scrollbar-width: none; /* Firefox */
        touch-action: pan-x;
        -webkit-overflow-scrolling: touch;
      }

      .product-list::-webkit-scrollbar {
        display: none; /* Chrome, Safari and Opera */
      }

      .product-item {
        min-width: 100px;
        max-width: 200px;
        padding: 4px 8px;
        border-radius: 30px;
        border: 1px solid #e8e8e8;
        background: #fff;
        display: flex;
        gap: 5px;
        align-items: center;
        cursor: pointer;
        flex-shrink: 0;
      }

      .product-item.selected {
        background: #000;
        border-color: #000;
        color: #fff;
      }

      .product-item img {
        width: 22px;
        height: 22px;
        border-radius: 50%;
        flex-shrink: 0;
        object-fit: cover;
        display: block;
      }

      .product-info {
        display: flex;
        flex-direction: row;
        align-items: center;
        font-size: 11px;
        line-height: 1.3;
        overflow: hidden;
        white-space: nowrap;
        text-overflow: ellipsis;
        flex: 1;
        min-width: 0;
      }

      .product-info > div {
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
      }

      .product-info > div:first-child {
        flex: 1;
      }

      .product-info > div:last-child {
        display: none;
      }

      .selected-product {
        display: flex;
        align-items: left;
        gap: 8px;
        margin: 16px 0;
        padding: 0 20px;
        padding-left: 0;
        border: none;
        background: transparent;
        cursor: pointer;
        outline: none;
        box-shadow: none;
        width: 100%;
        text-align: left;
      }

      .selected-product:focus,
      .selected-product:focus-visible,
      .selected-product:active,
      .selected-product:hover {
        border: none;
        background: transparent;
        outline: none;
        box-shadow: none;
      }

      .selected-product-image {
        width: 86px;
        height: 86px;
        border-radius: 6px;
        background: #fff;
        overflow: hidden;
      }

      .selected-product-info {
        flex: 1;
      }

      .selected-product-name {
        font-size: 13px;
        color: #000;
        margin-bottom: 6px;
        margin-top: 0;
      }

      .selected-product-price {
        font-size: 13px;
        font-weight: 700;
      }

      .price-discount {
        color: #bf9a67;
      }

      .heart-btn {
        background: transparent;
        border: none;
        cursor: pointer;
        font-size: 17px;
        padding: 0;
        flex-shrink: 0;
        align-self: center;
      }

      .heart-btn.active {
        color: #ff3b5c;
      }

      .reviews-grid {
        display: flex;
        gap: 10px;
        padding: 0 10px;
        overflow-x: auto;
        -ms-overflow-style: none; /* IE and Edge */
        scrollbar-width: none; /* Firefox */
        touch-action: pan-x;
        -webkit-overflow-scrolling: touch;
      }

      .reviews-grid::-webkit-scrollbar {
        display: none; /* Chrome, Safari and Opera */
      }

      .review-card {
        min-width: 320px;
        height: 160px;
        background: #f7f7f7;
        border-radius: 6px;
        padding: 20px;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
      }

      .review-header {
        display: flex;
        align-items: center;
        gap: 8px;
        margin-bottom: 8px;
      }

      .review-product-image {
        width: 40px;
        height: 40px;
        border-radius: 4px;
        object-fit: cover;
      }

      .review-text {
        font-size: 14px;
        color: #000;
        line-height: 1.4;
      }

      .review-meta {
        display: flex;
        gap: 6px;
        align-items: center;
        font-size: 12px;
        color: #999;
      }

      .survey-section {
        background: #f7f7f7;
        margin-top: 30px;
        padding: 30px 0;
      }

      .survey-title {
        text-align: center;
        font-size: 18px;
        font-weight: 700;
        margin-bottom: 30px;
      }

      .survey-item {
        margin-bottom: 20px;
        padding: 0 20px;
      }

      .survey-question {
        margin-bottom: 15px;
      }

      .survey-q-number {
        font-size: 15px;
        font-weight: 700;
        color: #bf9a67;
        margin-bottom: 10px;
        text-align: center;
      }

      .survey-q-text {
        font-size: 14px;
        font-weight: 500;
        color: #000;
        line-height: 1.4;
        text-align: center;
      }

      .rating-buttons {
        display: flex;
        justify-content: space-between;
        padding: 10px 50px;
      }

      .rating-btn {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 6px;
        border: none;
        background: transparent;
        cursor: pointer;
        padding: 4px;
        outline: none;
        box-shadow: none;
        -webkit-tap-highlight-color: transparent;
        position: relative;
      }

      .rating-btn:focus,
      .rating-btn:focus-visible,
      .rating-btn:active,
      .rating-btn:hover {
        outline: none;
        box-shadow: none;
        border: none;
      }

      .rating-btn::before {
        content: "";
        width: 16.8px;
        height: 16.8px;
        border: 1.5px solid #c4c4c4;
        border-radius: 50%;
        background: #fff;
        display: block;
      }

      .rating-btn.active::before {
        border-color: #19d7d2;
        background: #19d7d2;
      }

      .rating-btn .number {
        font-size: 10px;
        color: #999;
      }

      .rating-btn.active .number {
        color: #19d7d2;
        font-weight: 500;
      }

      .rating-btn img {
        display: none;
      }

      .text-input-link {
        border: none;
        border-bottom: 1px solid #c4c4c4;
        background: transparent;
        padding: 10px 5px;
        font-size: 10px;
        color: #666666;
        text-align: left;
        outline: none;
        width: 100%;
        box-sizing: border-box;
      }

      .text-input-link::placeholder {
        color: #c4c4c4;
      }

      .button-wrapper {
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto;
        width: 402px;
        height: 85px;
        max-width: calc(100%);
        padding: 20px;
      }

      .start-button {
        display: block;
        width: 362px;
        height: 43px;
        background: #19d7d2;
        border: none;
        border-radius: 8px;
        color: #fff;
        font-size: 15px;
        font-weight: 600;
        cursor: pointer;
        z-index: 1000;
        transition: opacity 0.3s, background-color 0.3s;
      }

      .start-button:disabled {
        background: #cccccc;
        cursor: not-allowed;
        opacity: 0.6;
      }

      .bottom-nav {
        position: fixed;
        bottom: 0;
        left: 50%;
        transform: translateX(-50%);
        width: 100%;
        max-width: 402px;
        background: #fff;
        border-top: 1px solid #e8e8e8;
        padding: 8px 20px 20px;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .nav-item {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 2px;
        cursor: pointer;
        outline: none;
        box-shadow: none;
        -webkit-tap-highlight-color: transparent;
      }

      .nav-item:focus,
      .nav-item:focus-visible,
      .nav-item:active,
      .nav-item:hover {
        outline: none;
        box-shadow: none;
        border: none;
      }

      .nav-item.active {
        color: #111;
      }

      .nav-item.inactive {
        color: #999;
      }

      .nav-icon {
        width: 27px;
        height: 27px;
      }

      .nav-text {
        font-size: 11px;
      }

      .nav-ai {
        background: #19d7d2;
        border-radius: 50%;
        width: 42px;
        height: 42px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: #fff;
        font-size: 20px;
        font-weight: 600;
        outline: none;
        box-shadow: none;
        -webkit-tap-highlight-color: transparent;
        cursor: pointer;
      }

      .nav-ai:focus,
      .nav-ai:focus-visible,
      .nav-ai:active,
      .nav-ai:hover {
        outline: none;
        box-shadow: none;
        border: none;
      }
    </style>
  </head>
  <body>
    <!-- Google Tag Manager (noscript) -->
    <noscript
      ><iframe
        src="https://www.googletagmanager.com/ns.html?id=GTM-NKG7DXM5"
        height="0"
        width="0"
        style="display: none; visibility: hidden"
      ></iframe
    ></noscript>
    <!— End Google Tag Manager (noscript) —>
    <div class="mobile-container">
      <!-- 헤더 -->
      <div class="top-bar">
        <div class="header">
          <a href="#" class="search-link">
            <div class="search-container">
              <div class="search-input">
                <div class="input-container">
                  <p>궁금한 제품을 검색해 보세요</p>
                </div>
              </div>
            </div>
            <div class="search-button-container">
              <div class="search-icon-button">
                <img src="./img/search.png" alt="검색" />
              </div>
            </div>
          </a>
        </div>
      </div>

      <!-- 메인 컨텐츠 -->
      <div class="main-content">
        <!-- 사용자 정보 -->
        <div class="user-info">
          <p class="user-text">수연짱님의 AI 피부 진단 :</p>
          <a href="ai_test_result_main.html" class="more-link">
            <span>더보기</span>
            <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
              <path
                d="M7 5L12 10L7 15"
                stroke="#666"
                stroke-width="2"
                stroke-linecap="round"
              />
            </svg>
          </a>
        </div>

        <!-- AI 결과 카드 -->
        <div class="ai-result-card">
          <div class="ai-result-left">
            <div class="ai-result-grid">
              <div class="ai-result-item">
                <div class="ai-result-label">가장 좋은 항목</div>
                <div class="ai-result-value fade-up">탄력</div>
              </div>
              <div class="ai-result-item">
                <div class="ai-result-label">가장 안좋은 항목</div>
                <div class="ai-result-value fade-up-2 is-in">유분</div>
              </div>
              <div class="ai-result-item">
                <div class="ai-result-label">피부 점수</div>
                <div class="ai-result-value fade-up-3 is-in">80점</div>
              </div>
              <div class="ai-result-item">
                <div class="ai-result-label">피부 타입</div>
                <div class="ai-result-value fade-up-4 is-in">복합형</div>
              </div>
            </div>
          </div>
          <div class="ai-result-right">
            <img
              src="./img/face.png"
              alt="AI 피부 진단 얼굴 그래픽"
              style="
                width: 126px;
                height: 145px;
                object-fit: contain;
                border-radius: 6px;
              "
            />
          </div>
        </div>

        <!-- 프로모션 배너 -->
        <div class="promo-banner">
          <img src="./img/ad.png" alt="프로모션" class="active" />
          <img src="./img/ad2.png" alt="프로모션2" />
        </div>

        <!-- 제품 리뷰 섹션 -->
        <div class="product-reviews">
          <div class="product-reviews-header">
            <h3 class="product-reviews-title">내 피부에 맞는 제품은?</h3>
            <div class="category-selector">
              <span class="category-text">스킨 / 토너</span>
              <svg
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                class="category-arrow"
              >
                <path d="M6 9L12 15L18 9" stroke="#666" stroke-width="2" />
              </svg>
              <div class="category-dropdown">
                <div
                  class="category-option selected"
                  data-category="스킨 / 토너"
                >
                  스킨 / 토너
                </div>
                <div class="category-option" data-category="로션 / 에멀전">
                  로션 / 에멀전
                </div>
                <div class="category-option" data-category="세럼 / 에센스">
                  세럼 / 에센스
                </div>
              </div>
            </div>
          </div>

          <div class="product-reviews-subtitle">
            내 피부에 맞는 제품을 추천해드릴게요
          </div>

          <div class="product-list">
            <div class="product-item selected">
              <img
                src="./img/Ellipse 5.png"
                alt="벡터"
                class="Vector"
                style="width: 22px; height: 22px"
              />
              <div class="product-info">
                <div>에스네이처 - 아쿠아 오아시스 토너 300ml</div>
                <div>더블 기획 (토너 + 토너 + 화장솜)</div>
              </div>
            </div>
            <div class="product-item">
              <img
                src="./img/Ellipse 5-1.png"
                alt="벡터"
                class="Vector"
                style="width: 22px; height: 22px"
              />
              <div class="product-info">
                <div>토니모리 - 원더 세라마이드 모찌 토너</div>
                <div>원더 세라마이드 모찌 토너 500ml</div>
              </div>
            </div>
            <div class="product-item">
              <img
                src="./img/Ellipse 5-2.png"
                alt="벡터"
                class="Vector"
                style="width: 22px; height: 22px"
              />
              <div class="product-info">
                <div>라운드랩 - 1025 독도 토너</div>
                <div>1025 독도 토너 500ml</div>
              </div>
            </div>
          </div>

          <div style="display: flex; justify-content: space-between">
            <button class="selected-product" onclick="alert('준비중입니다')">
              <div class="selected-product-image">
                <img
                  src="./img/Rectangle 9.png"
                  alt="벡터"
                  class="Vector"
                  style="width: 86px; height: 86px"
                />
              </div>
              <div class="selected-product-info">
                <div class="selected-product-name">
                  <div>에스네이처 - 아쿠아 오아시스 토너 300ml</div>
                  <div>더블 기획 (토너 + 토너 + 화장솜)</div>
                </div>
                <div class="selected-product-price">
                  <span class="price-discount">63%</span>
                  <span> 19,500원</span>
                </div>
              </div>
              <button
                class="heart-btn"
                onclick="event.stopPropagation(); toggleHeart(this)"
              >
                <img
                  src="./img/heart.png"
                  alt="하트"
                  class="heart"
                  style="width: 16px; height: 14px"
                />
              </button>
            </button>
          </div>

          <div class="reviews-grid">
            <div class="review-card">
              <img
                src="./img/Vector.png"
                alt="벡터"
                class="Vector"
                style="width: 18px; height: 18px"
              />
              <div class="review-text">
                내 피부 : 속건조 + 수부지 + 복합성피부 닦토든 흡토든 수분
                차오름! 이건 진정 + 피지조절 + 흡수 미침! 피부 쫀득함
              </div>
              <div class="review-meta">
                <img src="./img/star.png" alt="" />
                <span>2023.02.15</span>
                <span>|</span>
                <span>솔직리뷰퀸_으아이</span>
              </div>
            </div>
            <div class="review-card">
              <img
                src="./img/Vector.png"
                alt="벡터"
                class="Vector"
                style="width: 18px; height: 18px"
              />
              <div class="review-text">
                흡토를 할 수록 피부 찹쌀떡 됩니다 그냥 민감성 수부지에 성분 예민
                피부인데도 트러블이나 자극 전혀 없음
              </div>
              <div class="review-meta">
                <img src="./img/star.png" alt="" />
                <span>2023.09.14</span>
                <span>|</span>
                <span>jian*3319</span>
              </div>
            </div>
            <div class="review-card">
              <img
                src="./img/Vector.png"
                alt="벡터"
                class="Vector"
                style="width: 18px; height: 18px"
              />
              <div class="review-text">
                예민보스의 토너 정착템 흡토도 좋지만 개인적으로는 닦토로 애용중
              </div>
              <div class="review-meta">
                <img src="./img/star.png" alt="" />
                <span>2022.10.31</span>
                <span>|</span>
                <span>쨔쨔쨔</span>
              </div>
            </div>
          </div>
        </div>

        <!-- 설문조사 섹션 -->
        <div class="survey-section">
          <div class="survey-title">설문조사</div>

          <div class="survey-item survey-item-1">
            <div class="survey-q-number">Q. 1</div>
            <div class="survey-q-text">
              홈 화면에 제시된 AI 진단 결과가 명확하고 이해하기 쉬웠다.
            </div>
            <div class="rating-buttons">
              <button class="rating-btn" onclick="selectRating(this)">
                <span class="number">1</span>
              </button>
              <button class="rating-btn" onclick="selectRating(this)">
                <span class="number">2</span>
              </button>
              <button class="rating-btn" onclick="selectRating(this)">
                <span class="number">3</span>
              </button>
              <button class="rating-btn" onclick="selectRating(this)">
                <span class="number">4</span>
              </button>
              <button class="rating-btn" onclick="selectRating(this)">
                <span class="number">5</span>
              </button>
            </div>
          </div>

          <div class="survey-item survey-item-2">
            <div class="survey-q-number">Q. 2</div>
            <div class="survey-q-text">
              추천받은 TOP 3 상품이 내 피부에 잘 맞는 제품이라면
              <br />
              관심이나 구매할 의향이 있다.
            </div>
            <div class="rating-buttons">
              <button class="rating-btn" onclick="selectRating(this)">
                <span class="number">1</span>
              </button>
              <button class="rating-btn" onclick="selectRating(this)">
                <span class="number">2</span>
              </button>
              <button class="rating-btn" onclick="selectRating(this)">
                <span class="number">3</span>
              </button>
              <button class="rating-btn" onclick="selectRating(this)">
                <span class="number">4</span>
              </button>
              <button class="rating-btn" onclick="selectRating(this)">
                <span class="number">5</span>
              </button>
            </div>
          </div>

          <div class="survey-item survey-item-3">
            <div class="survey-q-number">Q. 3</div>
            <div class="survey-q-text">
              AI 기반 추천 서비스 도입으로 <br />
              브랜드에 대한 신뢰도가 달라질 것 같다.
            </div>
            <div class="rating-buttons">
              <button class="rating-btn" onclick="selectRating(this)">
                <span class="number">1</span>
              </button>
              <button class="rating-btn" onclick="selectRating(this)">
                <span class="number">2</span>
              </button>
              <button class="rating-btn" onclick="selectRating(this)">
                <span class="number">3</span>
              </button>
              <button class="rating-btn" onclick="selectRating(this)">
                <span class="number">4</span>
              </button>
              <button class="rating-btn" onclick="selectRating(this)">
                <span class="number">5</span>
              </button>
            </div>
          </div>

          <div class="survey-item survey-item-4">
            <div class="survey-question">
              <div class="survey-q-number">Q. 4</div>
              <div class="survey-q-text">
                브랜드 이미지가 기존과 다르게 느껴진 부분이 있다면 <br />
                자유롭게 말씀해주세요.
              </div>
            </div>
            <input
              type="text"
              class="text-input-link"
              placeholder="의견을 남겨주세요."
            />
          </div>

          <div class="button-wrapper">
            <button
              class="start-button"
              id="start-button"
              onclick="validateSurveyAndSubmit()"
              disabled
            >
              마이페이지로 넘어가기
            </button>
          </div>
        </div>

        <!-- 하단 네비게이션 -->
        <div class="bottom-nav">
          <div class="nav-item active">
            <img
              src="./img/home_bottom.png"
              alt="home"
              style="width: 27px; height: 27px"
            />
            <span class="nav-text">홈</span>
          </div>
          <div class="nav-ai">AI</div>
          <div class="nav-item inactive">
            <img
              src="./img/user.png"
              alt="user"
              style="width: 27px; height: 26px"
            />
            <span class="nav-text">마이</span>
          </div>
        </div>
      </div>
    </div>
    <script>
      function validateSurvey(targetUrl) {
        // Q.1 체크
        const survey1 = document.querySelector(
          ".survey-item-1 .rating-btn.active"
        );
        if (!survey1) {
          alert("Q.1 항목을 선택해주세요.");
          return;
        }

        // Q.2 체크
        const survey2 = document.querySelector(
          ".survey-item-2 .rating-btn.active"
        );
        if (!survey2) {
          alert("Q.2 항목을 선택해주세요.");
          return;
        }

        // Q.3 체크
        const survey3 = document.querySelector(
          ".survey-item-3 .rating-btn.active"
        );
        if (!survey3) {
          alert("Q.3 항목을 선택해주세요.");
          return;
        }

        // Q.4 체크 (text-input-link)
        const survey4 = document.querySelector(
          ".survey-item-4 .text-input-link"
        );
        if (!survey4.value.trim()) {
          alert("Q.4 항목을 입력해주세요.");
          return;
        }

        // 모든 검증 통과 시 페이지 이동
        location.href = targetUrl;
      }

      // 설문조사 완료 상태 확인 함수
      function checkSurveyCompletion() {
        const survey1 = document.querySelector(
          ".survey-item-1 .rating-btn.active"
        );
        const survey2 = document.querySelector(
          ".survey-item-2 .rating-btn.active"
        );
        const survey3 = document.querySelector(
          ".survey-item-3 .rating-btn.active"
        );
        const survey4 = document.querySelector(
          ".survey-item-4 .text-input-link"
        );

        // 모든 질문이 완료되었는지 확인
        const isComplete =
          survey1 && survey2 && survey3 && survey4 && survey4.value.trim();

        const startButton = document.getElementById("start-button");
        if (startButton) {
          startButton.disabled = !isComplete;
        }

        return isComplete;
      }

      function validateSurveyAndSubmit() {
        // 모든 설문 항목 완료 확인
        const survey1 = document.querySelector(
          ".survey-item-1 .rating-btn.active"
        );
        if (!survey1) {
          alert("Q.1 항목을 선택해주세요.");
          return;
        }

        const survey2 = document.querySelector(
          ".survey-item-2 .rating-btn.active"
        );
        if (!survey2) {
          alert("Q.2 항목을 선택해주세요.");
          return;
        }

        const survey3 = document.querySelector(
          ".survey-item-3 .rating-btn.active"
        );
        if (!survey3) {
          alert("Q.3 항목을 선택해주세요.");
          return;
        }

        const survey4 = document.querySelector(
          ".survey-item-4 .text-input-link"
        );
        if (!survey4.value.trim()) {
          alert("Q.4 항목을 입력해주세요.");
          return;
        }

        // 모든 검증 통과 시 완료 메시지 표시 후 페이지 이동
        // alert('설문조사가 완료되었습니다.');
        location.href = "mypage.html";
      }

      // 페이지 로드 시 설문조사 상태 확인 및 이벤트 리스너 등록
      document.addEventListener("DOMContentLoaded", function () {
        // 초기 상태 확인
        checkSurveyCompletion();

        // promo-banner 이미지 자동 전환
        const promoBanner = document.querySelector(".promo-banner");
        if (promoBanner) {
          const images = promoBanner.querySelectorAll("img");
          let currentIndex = 0;

          function showNextImage() {
            // 현재 이미지에서 active 클래스 제거
            images[currentIndex].classList.remove("active");

            // 다음 이미지 인덱스 계산
            currentIndex = (currentIndex + 1) % images.length;

            // 다음 이미지에 active 클래스 추가
            images[currentIndex].classList.add("active");
          }

          // 3초마다 이미지 전환 (원하는 간격으로 조정 가능)
          if (images.length > 1) {
            setInterval(showNextImage, 6000);
          }
        }

        // 설문조사 버튼 클릭 시 상태 확인
        const ratingButtons = document.querySelectorAll(".rating-btn");
        ratingButtons.forEach((button) => {
          button.addEventListener("click", function () {
            setTimeout(checkSurveyCompletion, 100); // 약간의 지연으로 DOM 업데이트 대기
          });
        });

        // Q.4 텍스트 입력 시 상태 확인
        const textInput = document.querySelector(
          ".survey-item-4 .text-input-link"
        );
        if (textInput) {
          textInput.addEventListener("input", checkSurveyCompletion);
          textInput.addEventListener("keyup", checkSurveyCompletion);
        }
      });

      function toggleHeart(btn) {
        const img = btn.querySelector("img");
        const selectedProduct = document.querySelector(
          ".product-item.selected"
        );
        let currentProduct = null;

        // 현재 선택된 제품 찾기
        if (selectedProduct) {
          const productItems = document.querySelectorAll(".product-item");
          const index = Array.from(productItems).indexOf(selectedProduct);
          const categoryText = document.querySelector(".category-text");
          const currentCategory = categoryText
            ? categoryText.textContent
            : "스킨 / 토너";
          const products = window.productsByCategory
            ? window.productsByCategory[currentCategory]
            : [];
          if (products[index]) {
            currentProduct = products[index];
          }
        }

        if (btn.classList.contains("active")) {
          btn.classList.remove("active");
          img.src = "./img/heart.png";
          img.alt = "하트";
          if (currentProduct) {
            window.heartStates[currentProduct.id] = false;
          }
        } else {
          btn.classList.add("active");
          img.src = "./img/heart_color.png";
          img.alt = "채워진 하트";
          if (currentProduct) {
            window.heartStates[currentProduct.id] = true;
          }
        }
      }
    </script>
    <script src="script.js"></script>
  </body>
</html>
